Case Study: Event-Driven Order Processing System for an E-commerce Platform
ğŸ¯ Objective
Build a modular Flask-based microservice that handles order placement, inventory management, and payment processing using an event-driven architecture with message queues.
---
ğŸ§± Tech Stack
Â· Backend Framework: Flask
Â· Database: PostgreSQL (SQLAlchemy ORM)
Â· Message Broker: RabbitMQ or Apache Kafka
Â· Task Queue: Celery
Â· Authentication: JWT
Â· Containerization: Docker
Â· Monitoring: Prometheus + Grafana
Â· Deployment: Kubernetes (optional for scaling)
---
ğŸ”§ Key Microservices
1. Order Service
Â· Accepts new orders via REST API
Â· Publishes order_created event to message broker
2. Inventory Service
Â· Listens for order_created events
Â· Checks and updates stock levels
Â· Publishes inventory_updated or inventory_failed
3. Payment Service
Â· Listens for inventory_updated events
Â· Processes payment (mocked)
Â· Publishes payment_successful or payment_failed
4. Notification Service
Â· Listens for all events
Â· Sends email/SMS notifications (mocked)
---
ğŸ§  Advanced Concepts to Showcase
Â· Event-driven architecture with Flask and RabbitMQ/Kafka
Â· Blueprints and application factory pattern in Flask
Â· Custom decorators for logging, error handling, and auth
Â· Celery workers for async processing
Â· Retry logic and dead-letter queues
Â· Unit tests with pytest and unittest.mock
Â· Structured logging with loguru or structlog
Â· Health checks and readiness probes for Kubernetes
---
ğŸ“ Suggested Project Structure
ecommerce_platform/
â”œâ”€â”€ order_service/
â”‚ â”œâ”€â”€ app.py
â”‚ â”œâ”€â”€ routes/
â”‚ â”œâ”€â”€ models/
â”‚ â”œâ”€â”€ events/
â”‚ â””â”€â”€ utils/
â”œâ”€â”€ inventory_service/
â”œâ”€â”€ payment_service/
â”œâ”€â”€ notification_service/
â”œâ”€â”€ shared/
â”‚ â”œâ”€â”€ config/
â”‚ â””â”€â”€ messaging/
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md
---
ğŸ“ˆ Bonus Enhancements
Â· Swagger UI with Flask-RESTX
Â· Circuit breaker pattern using pybreaker
Â· Distributed tracing with OpenTelemetry
Â· Role-based access control (RBAC)
Â· Integration with Stripe or Razorpay for real payments